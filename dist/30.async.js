(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[30],{"6hwp":function(e,t,a){"use strict";var l=a("TqRt"),n=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("NG6T");var r=l(a("uZXS")),d=l(a("pVnL"));a("3PXm");var u=l(a("m2aW"));a("s/1u");var i=l(a("TMZs")),o=l(a("lwsE")),c=l(a("W8MJ")),s=l(a("a1gu")),f=l(a("Nsbk")),m=l(a("7W2i"));a("6ASg");var p=l(a("pKc7"));a("0lkx");var h=l(a("gEKc"));a("M50D");var g,v,y,b=l(a("5Zb7")),w=n(a("q1tI")),E=l(a("d9o8")),D=a("MuoO"),I=b.default.Item,C=h.default.TextArea,S=p.default.Option,k=(g=(0,D.connect)(function(e){return e}),v=b.default.create(),g(y=v(y=function(e){function t(){var e,a;(0,o.default)(this,t);for(var l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return a=(0,s.default)(this,(e=(0,f.default)(t)).call.apply(e,[this].concat(n))),a.state={modalVisible:!1,selectedGroupValue:{}},a.handleModalVisible=function(e){a.setState({modalVisible:!!e})},a.handleAddIDC=function(e){var t=a.props.form;e.preventDefault(),t.validateFields(function(e,l){if(!e){var n={title:t.getFieldValue("title")?t.getFieldValue("title"):"",num:t.getFieldValue("num")?t.getFieldValue("num"):"",volume:t.getFieldValue("volume")?t.getFieldValue("volume"):"",mainfrequency:t.getFieldValue("mainfrequency")?t.getFieldValue("mainfrequency"):"",description:t.getFieldValue("description")?t.getFieldValue("description"):"",category:t.getFieldValue("category")?t.getFieldValue("category"):"",componentname:"mem"};a.props.dispatch({type:"ghardware/addHardwareComponents",payload:{description:n}}),i.default.success("\u6dfb\u52a0\u6210\u529f"),a.setState({modalVisible:!1,enable:!1}),t.resetFields()}})},a}return(0,m.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.props.hardwaredata,l=void 0==a.data.category?[]:a.data.category,n={labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:12},md:{span:10}}};return w.default.createElement("div",{className:E.default.tableListOperator,style:{float:"left"}},w.default.createElement(u.default,{icon:"plus",type:"primary",onClick:function(){return e.handleModalVisible(!0)}},"\u6dfb\u52a0\u5185\u5b58"),w.default.createElement(r.default,{title:"\u6dfb\u52a0\u5185\u5b58",visible:this.state.modalVisible,onOk:this.handleAddIDC,width:600,onCancel:function(){return e.handleModalVisible()}},w.default.createElement(I,(0,d.default)({},n,{label:"\u540d\u79f0"}),t("title",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5185\u5b58\u540d\u79f0"}]})(w.default.createElement(h.default,{placeholder:"\u8bf7\u8f93\u5165\u5185\u5b58\u540d\u79f0"}))),w.default.createElement(I,(0,d.default)({},n,{label:"\u6570\u91cf"}),t("num",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5185\u5b58\u6570\u91cf"}]})(w.default.createElement(h.default,{placeholder:"\u8bf7\u8f93\u5165\u5185\u5b58\u6570\u91cf"}))),w.default.createElement(I,(0,d.default)({},n,{label:"\u5bb9\u91cf"}),t("volume",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5185\u5b58\u5bb9\u91cf"}]})(w.default.createElement(h.default,{placeholder:"\u8bf7\u8f93\u5165\u5185\u5b58\u5bb9\u91cf"}))),w.default.createElement(I,(0,d.default)({},n,{label:"\u7c7b\u578b"}),t("category",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5185\u5b58\u7c7b\u578b"}]})(w.default.createElement(p.default,{style:{width:"100%"},placeholder:"\u8bf7\u9009\u62e9\u5185\u5b58\u7c7b\u578b"},l.map(function(e){return w.default.createElement(S,{key:e.ID,value:Number(e.ID)},e.title)})))),w.default.createElement(I,(0,d.default)({},n,{label:"\u9891\u7387"}),t("mainfrequency",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5185\u5b58\u9891\u7387"}]})(w.default.createElement(h.default,{placeholder:"\u8bf7\u8f93\u5165\u5185\u5b58\u9891\u7387"}))),w.default.createElement(I,(0,d.default)({},n,{label:"\u63cf\u8ff0"}),t("description")(w.default.createElement(C,{style:{minHeight:32},placeholder:"\u5185\u5b58\u63cf\u8ff0",rows:4})))))}}]),t}(w.PureComponent))||y)||y);t.default=k},De1A:function(e,t,a){"use strict";var l=a("TqRt"),n=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("UsS6");var r=l(a("xqAZ"));a("pdEl");var d=l(a("0Hx8"));a("1Y2U");var u=l(a("c8pg"));a("3PXm");var i=l(a("m2aW"));a("xzRB");var o=l(a("TOEs"));a("wPR8");var c=l(a("cmPo")),s=l(a("MVZn")),f=l(a("lwsE")),m=l(a("W8MJ")),p=l(a("a1gu")),h=l(a("Nsbk")),g=l(a("7W2i"));a("M50D");var v,y,b,w=l(a("5Zb7")),E=n(a("q1tI")),D=a("MuoO"),I=l(a("ohvd")),C=l(a("zHco")),S=l(a("6hwp")),k=l(a("d9o8")),V=(w.default.Item,function(e){return Object.keys(e).map(function(t){return e[t]}).join(",")}),x=(v=(0,D.connect)(function(e){return e}),y=w.default.create(),v(b=y(b=function(e){function t(){var e,a;(0,f.default)(this,t);for(var l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return a=(0,p.default)(this,(e=(0,h.default)(t)).call.apply(e,[this].concat(n))),a.state={selectedRows:[],formValues:{}},a.handleStandardTableChange=function(e,t,l){var n=a.props.dispatch,r=a.state.formValues,d=Object.keys(t).reduce(function(e,a){var l=(0,s.default)({},e);return l[a]=V(t[a]),l},{}),u=(0,s.default)({currentPage:e.current,pageSize:e.pageSize},r,d);l.field&&(u.sorter="".concat(l.field,"_").concat(l.order)),n({type:"ghardware/queryHardwareComponentMem",payload:"mem"})},a.handleSelectRows=function(e){a.setState({selectedRows:e})},a.handleSaveData=function(e){var t=e.ID,l=e.description,n=e.mainfrequency,r=e.num,d=e.title,u=e.volume;e.categorymeminfo;a.props.dispatch({type:"ghardware/modifyHardwareComponents",payload:{ID:t,componentname:"mem",description:l,mainfrequency:n,category:void 0==sval.categorymeminfo.newId?e.categorymeminfo.ID:e.categorymeminfo.newId,num:r,title:d,volume:u}})},a.handleDeleteData=function(e){var t=e.ID,l=[];l.push(t),a.props.dispatch({type:"ghardware/deleteHardwareComponents",payload:{tag:!1,infolist:JSON.stringify({componentname:"mem",ids:l})}})},a}return(0,g.default)(t,e),(0,m.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"ghardware/queryHardwareComponentMem",payload:"mem"})}},{key:"render",value:function(){var e=this.props.ghardware,t=this.state.selectedRows,a=E.default.createElement(c.default,{onClick:this.handleMenuClick,selectedKeys:[]},E.default.createElement(c.default.Item,{key:"approval"},"\u6279\u91cf\u5f00\u542f"));return E.default.createElement(C.default,{title:"\u5185\u5b58\u5957\u9910"},E.default.createElement(r.default,{bordered:!1},E.default.createElement("div",{className:k.default.tableList},E.default.createElement("div",{style:{height:40}},E.default.createElement(S.default,{dispatch:this.props.dispatch,hardwaredata:e.memInfo}),t.length>0&&E.default.createElement("div",null,E.default.createElement(u.default,{overlay:a},E.default.createElement(i.default,null,"\u66f4\u591a\u64cd\u4f5c ",E.default.createElement(o.default,{type:"down"}))))),E.default.createElement(d.default,null,"  \u5185\u5b58\u6570\u636e  "),E.default.createElement(I.default,{ghardware:e.memInfo,handleSaveData:this.handleSaveData,handleDeleteData:this.handleDeleteData}))))}}]),t}(E.PureComponent))||b)||b);t.default=x},d9o8:function(e,t,a){e.exports={tableList:"antd-pro-gcmdb-ui-src-pages-g-resource-g-hardware-set-meal-memory-memory-tableList",tableListOperator:"antd-pro-gcmdb-ui-src-pages-g-resource-g-hardware-set-meal-memory-memory-tableListOperator",tableListForm:"antd-pro-gcmdb-ui-src-pages-g-resource-g-hardware-set-meal-memory-memory-tableListForm",submitButtons:"antd-pro-gcmdb-ui-src-pages-g-resource-g-hardware-set-meal-memory-memory-submitButtons"}},l8c3:function(e,t,a){e.exports={standardTable:"antd-pro-gcmdb-ui-src-components-resource-memory-index-standardTable",tableAlert:"antd-pro-gcmdb-ui-src-components-resource-memory-index-tableAlert"}},ohvd:function(e,t,a){"use strict";var l=a("284h"),n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("ggfa");var r=n(a("M+wZ")),d=n(a("MVZn")),u=n(a("RIqP"));a("8EHj");var i=n(a("6xKx"));a("pdEl");var o=n(a("0Hx8")),c=n(a("lwsE")),s=n(a("W8MJ")),f=n(a("a1gu")),m=n(a("Nsbk")),p=n(a("7W2i"));a("0lkx");var h=n(a("gEKc"));a("6ASg");var g=n(a("pKc7")),v=l(a("q1tI")),y=(n(a("wd/R")),n(a("l8c3"))),b=(a("Po9p"),g.default.Option),w=function(e){var t=e.editable,a=e.value,l=e.onChange;return v.default.createElement("div",null,t?v.default.createElement(h.default,{style:{margin:"-5px 0"},value:a,onChange:function(e){return l(e.target.value)}}):a)},E=function(e){function t(){var e,a;(0,c.default)(this,t);for(var l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return a=(0,f.default)(this,(e=(0,m.default)(t)).call.apply(e,[this].concat(n))),a.state={selectedRowKeys:[],totalCallNo:0,data:[],category:[],status:!1,disabled:!0},a.columns=[{title:"\u540d\u79f0",dataIndex:"title",width:"10%",render:function(e,t){return a.renderColumns(e,t,"title")}},{title:"\u6570\u91cf",dataIndex:"num",width:"15%",render:function(e,t){return a.renderColumns(e,t,"num")}},{title:"\u5bb9\u91cf",dataIndex:"volume",width:"15%",render:function(e,t){return a.renderColumns(e,t,"volume")}},{title:"\u9891\u7387",dataIndex:"mainfrequency",width:"15%",render:function(e,t){return a.renderColumns(e,t,"mainfrequency")}},{title:"\u63cf\u8ff0",dataIndex:"description",width:"10%",render:function(e,t){return a.renderColumns(e,t,"description")}},{title:"\u7c7b\u578b",dataIndex:"categorymeminfo",width:"15%",render:function(e,t){return a.renderSelect(e,t,"categorymeminfo",a.state.category)}},{title:"\u64cd\u4f5c",dataIndex:"ID",width:"20%",render:function(e,t){var l=t.editable,n=t.deleteable;return v.default.createElement("div",{className:"editable-row-operations"},!n&&(l?v.default.createElement("span",null,v.default.createElement("a",{onClick:function(){return a.save(t.ID)}},"\u4fdd\u5b58"),v.default.createElement(o.default,{type:"vertical"}),v.default.createElement(i.default,{title:"\u786e\u5b9a\u53d6\u6d88?",onConfirm:function(){return a.cancel(t.ID)}},v.default.createElement("a",null,"\u53d6\u6d88"))):v.default.createElement("span",null,v.default.createElement("a",{onClick:function(){return a.edit(t.ID)}},"\u7f16\u8f91"))),!l&&(n?v.default.createElement("span",null,v.default.createElement(i.default,{title:"\u786e\u5b9a\u5220\u9664?",onConfirm:function(){return a.confirmdelete(t.ID)}},v.default.createElement("a",null,"\u63d0\u4ea4")),v.default.createElement(o.default,{type:"vertical"}),v.default.createElement("a",{onClick:function(){return a.canceldelete(t.ID)}},"\u53d6\u6d88")):v.default.createElement("span",{style:{marginLeft:10}},v.default.createElement("a",{onClick:function(){return a.askdelete(t.ID)}},"\u5220\u9664"))))}}],a.handleStatusChange=function(e,t){var l=(0,u.default)(a.state.data),n=l.filter(function(t){return e===t.ID})[0];n&&(n.enable=t,a.setState({data:l})),console.log("data",a.state.data)},a.handleTableChange=function(e,t){a.props.onChange(e,t)},a.handleRowSelectChange=function(e,t){var l=t.reduce(function(e,t){return e+parseFloat(t.callNo,10)},0);a.props.onSelectRow&&a.props.onSelectRow(t),a.setState({selectedRowKeys:e,totalCallNo:l}),a.props.handleSelectRows(e)},a}return(0,p.default)(t,e),(0,s.default)(t,[{key:"componentWillReceiveProps",value:function(e){e.ghardware.data&&this.setState({data:e.ghardware.data.list.map(function(e){return void 0==e.tabStatus&&(e.tabStatus=!0),e}),category:e.ghardware.data.category})}},{key:"renderColumns",value:function(e,t,a){var l=this;return v.default.createElement(w,{editable:t.editable,value:e,onChange:function(e){return l.handleChange(e,t.ID,a)}})}},{key:"renderSelect",value:function(e,t,a,l){var n=this;return console.log(e),v.default.createElement(g.default,{defaultValue:void 0==e?"":e.title,disabled:t.tabStatus,style:{width:"auto"},onChange:function(l){n.handSelectChange(l,t.ID,a,e.title)}},void 0==l?[]:l.map(function(e){return v.default.createElement(b,{key:e.ID,value:e.ID},e.title)}))}},{key:"handSelectChange",value:function(e,t,a,l){var n=(0,u.default)(this.state.data),r=n.filter(function(e){return t===e.ID})[0];r&&(r[a]=(0,d.default)({},r[a],{title:l,newId:e}),this.setState({data:n,disabled:!1})),console.log(r),console.log(e,t,a,l)}},{key:"handleChange",value:function(e,t,a){var l=(0,u.default)(this.state.data),n=l.filter(function(e){return t===e.ID})[0];n&&(n[a]=e,this.setState({data:l,disabled:!1})),console.log("handleChange",e),console.log("handleChange",e)}},{key:"edit",value:function(e){var t=(0,u.default)(this.state.data),a=t.filter(function(t){return e===t.ID})[0];a&&(a.editable=!0,this.setState({data:t.map(function(t){return t.ID==e&&(t.tabStatus=!1),t}),disabled:!1}))}},{key:"save",value:function(e){var t=(0,u.default)(this.state.data),a=t.filter(function(t){return e===t.ID})[0];a&&(delete a.editable,a.enable=this.state.status,this.setState({data:t.map(function(t){return t.ID==e&&(t.tabStatus=!0),t}),disabled:!0}),this.cacheData=t.map(function(e){return(0,d.default)({},e)}),console.log("target",a),this.props.handleSaveData(a))}},{key:"cancel",value:function(e){var t=(0,u.default)(this.state.data),a=t.filter(function(t){return e===t.ID})[0];a&&(Object.assign(a,this.cacheData.filter(function(t){return e===t.ID})[0]),delete a.editable,this.setState({data:t.map(function(t){return t.ID==e&&(t.tabStatus=!0),t}),disabled:!0}))}},{key:"askdelete",value:function(e){var t=(0,u.default)(this.state.data),a=t.filter(function(t){return e===t.ID})[0];a&&(a.deleteable=!0,this.setState({data:t}))}},{key:"confirmdelete",value:function(e){var t=(0,u.default)(this.state.data),a=t.filter(function(t){return e===t.ID})[0];if(a){var l=t.indexOf(a);l>-1&&t.splice(l,1),a.tag=!1,this.setState({data:t}),this.cacheData=t.map(function(e){return(0,d.default)({},e)}),this.props.handleDeleteData(a)}}},{key:"canceldelete",value:function(e){var t=(0,u.default)(this.state.data),a=t.filter(function(t){return e===t.ID})[0];a&&(Object.assign(a,this.cacheData.filter(function(t){return e===t.ID})[0]),delete a.deleteable,this.setState({data:t}))}},{key:"render",value:function(){var e=this.state,t=(e.selectedRowKeys,e.totalCallNo,this.props);t.gidc,t.loading;return this.cacheData=this.state.data.map(function(e){return(0,d.default)({},e)}),v.default.createElement("div",{className:y.default.standardTable},v.default.createElement(r.default,{bordered:!0,rowKey:function(e){return e.ID},dataSource:this.state.data,columns:this.columns,onChange:this.handleTableChange}))}}]),t}(v.PureComponent),D=E;t.default=D}}]);