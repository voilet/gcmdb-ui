(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[21],{"/yBD":function(e,t,a){"use strict";var l=a("GyWo"),r=a("4Gf+");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("z4Cl");var d=r(a("L9Tq")),s=r(a("OjS7"));a("jYJC");var i=r(a("47AH"));a("9E1Q");var n=r(a("VtQk"));a("nG2C");var o=r(a("InHu"));a("oeOs");var u=r(a("AXz3")),h=l(a("ZS5U")),c=(r(a("I9Uw")),r(a("E5t6"))),p=(a("gr65"),e=>{var t=e.editable,a=e.value,l=e.onChange;return h.default.createElement("div",null,t?h.default.createElement(u.default,{style:{margin:"-5px 0"},value:a,onChange:e=>l(e.target.value)}):a)});class m extends h.PureComponent{constructor(){super(...arguments),this.state={data:[],status:!1,disabled:!0,rateValue:3},this.columns=[{title:"\u8fd0\u8425\u5546\u540d\u79f0",dataIndex:"provider_name",width:"15%",render:(e,t)=>this.renderColumns(e,t,"provider_name")},{title:"\u8fd0\u8425\u5546\u7535\u8bdd",dataIndex:"phone",width:"15%",render:(e,t)=>this.renderColumns(e,t,"phone")},{title:"\u90ae\u4ef6",dataIndex:"email",width:"15%",render:(e,t)=>this.renderColumns(e,t,"email")},{title:"\u5907\u6ce8",dataIndex:"remarks",width:"15%",render:(e,t)=>this.renderColumns(e,t,"remarks")},{title:"\u8bc4\u5206",dataIndex:"comment",width:"15%",render:(e,t)=>{var a=t.comment;return h.default.createElement("div",null,h.default.createElement(o.default,{allowHalf:!0,count:6,value:a,onChange:e=>this.handleCommentChange(t.ID,e),disabled:this.state.disabled}))}},{title:"\u64cd\u4f5c",dataIndex:"ID",width:"20%",render:(e,t)=>{var a=t.editable,l=t.deleteable;return h.default.createElement("div",{className:"editable-row-operations"},!l&&(a?h.default.createElement("span",null,h.default.createElement("a",{onClick:()=>this.save(t.ID)},"\u4fdd\u5b58"),h.default.createElement(n.default,{type:"vertical"}),h.default.createElement(i.default,{title:"\u786e\u5b9a\u53d6\u6d88?",onConfirm:()=>this.cancel(t.ID)},h.default.createElement("a",null,"\u53d6\u6d88"))):h.default.createElement("span",null,h.default.createElement("a",{onClick:()=>this.edit(t.ID)},"\u7f16\u8f91"))),!a&&(l?h.default.createElement("span",null,h.default.createElement(i.default,{title:"\u786e\u5b9a\u5220\u9664?",onConfirm:()=>this.confirmdelete(t.ID)},h.default.createElement("a",null,"\u63d0\u4ea4")),h.default.createElement(n.default,{type:"vertical"}),h.default.createElement("a",{onClick:()=>this.canceldelete(t.ID)},"\u53d6\u6d88")):h.default.createElement("span",{style:{marginLeft:10}},h.default.createElement("a",{onClick:()=>this.askdelete(t.ID)},"\u5220\u9664"))))}}],this.handleCommentChange=((e,t)=>{var a=[...this.state.data],l=a.filter(t=>e===t.ID)[0];l&&(l.comment=t,this.setState({data:a}))}),this.handleTableChange=((e,t,a)=>{this.props.onChange(e,t,a)})}componentWillReceiveProps(e){e.gprovider.data&&this.setState({data:e.gprovider.data})}renderColumns(e,t,a){return h.default.createElement(p,{editable:t.editable,value:e,onChange:e=>this.handleChange(e,t.ID,a)})}handleChange(e,t,a){var l=[...this.state.data],r=l.filter(e=>t===e.ID)[0];r&&(r[a]=e,this.setState({data:l,disabled:!1}))}edit(e){var t=[...this.state.data],a=t.filter(t=>e===t.ID)[0];a&&(a.editable=!0,this.setState({data:t,disabled:!1}))}save(e){var t=[...this.state.data],a=t.filter(t=>e===t.ID)[0];a&&(delete a.editable,a.enable=this.state.status,this.setState({data:t,disabled:!0}),this.cacheData=t.map(e=>(0,s.default)({},e)),this.props.handleSaveData(a))}cancel(e){var t=[...this.state.data],a=t.filter(t=>e===t.ID)[0];a&&(Object.assign(a,this.cacheData.filter(t=>e===t.ID)[0]),delete a.editable,this.setState({data:t,disabled:!0}))}askdelete(e){var t=[...this.state.data],a=t.filter(t=>e===t.ID)[0];a&&(a.deleteable=!0,this.setState({data:t}))}confirmdelete(e){var t=[...this.state.data],a=t.filter(t=>e===t.ID)[0];if(a){var l=t.indexOf(a);l>-1&&t.splice(l,1),a.tag=!1,this.setState({data:t}),this.cacheData=t.map(e=>(0,s.default)({},e)),this.props.handleDeleteData(a)}}canceldelete(e){var t=[...this.state.data],a=t.filter(t=>e===t.ID)[0];a&&(Object.assign(a,this.cacheData.filter(t=>e===t.ID)[0]),delete a.deleteable,this.setState({data:t}))}render(){var e=this.props.gprovider,t=(0,s.default)({showSizeChanger:!0,showQuickJumper:!0},e.pagination);return this.cacheData=this.state.data.map(e=>(0,s.default)({},e)),h.default.createElement("div",{className:c.default.standardTable},h.default.createElement(d.default,{bordered:!0,rowKey:e=>e.ID,dataSource:this.state.data,columns:this.columns,pagination:t,onChange:this.handleTableChange}),";")}}var f=m;t.default=f},E5t6:function(e,t,a){e.exports={standardTable:"antd-pro-components-resource-provider-index-standardTable",tableAlert:"antd-pro-components-resource-provider-index-tableAlert"}},EMwN:function(e,t,a){"use strict";var l=a("4Gf+"),r=a("GyWo");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("5QNv");var d=l(a("XRPJ")),s=l(a("RSNA"));a("qhfc");var i=l(a("aEti"));a("Vvjs");var n=l(a("66S2"));a("oeOs");var o=l(a("AXz3"));a("62OL");var u,h,c,p=l(a("lZ5B")),m=r(a("ZS5U")),f=l(a("txCX")),v=a("rAnT"),g=p.default.Item,b=o.default.TextArea;u=(0,v.connect)(e=>e),h=p.default.create(),u(c=h(c=class extends m.PureComponent{constructor(){super(...arguments),this.state={number:0},this.handleNumberChange=(e=>{var t=parseInt(e.target.value||0,10);isNaN(t)||("value"in this.props||this.setState({number:t}),this.triggerChange({number:t}))}),this.triggerChange=(e=>{var t=this.props.onChange;t&&t(Object.assign({},this.state,e))})}componentWillReceiveProps(e){if("value"in e){var t=e.value;this.setState(t)}}render(){var e=this.props.size,t=this.state;return m.default.createElement(o.default,{placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",type:"text",size:e,value:t.number,onChange:this.handleNumberChange})}})||c);class E extends m.PureComponent{constructor(){super(...arguments),this.state={modalVisible:!1},this.handleModalVisible=(e=>{this.setState({modalVisible:!!e})}),this.handleAddProvider=(e=>{var t=this.props.form;e.preventDefault(),t.validateFields((e,a)=>{if(!e){var l={provider_name:t.getFieldValue("provider_name")?t.getFieldValue("provider_name"):"",phone:t.getFieldValue("phone")?t.getFieldValue("phone"):"",email:t.getFieldValue("email")?t.getFieldValue("email"):"",phone:t.getFieldValue("phone")?t.getFieldValue("phone"):"",remarks:t.getFieldValue("remarks")?t.getFieldValue("remarks"):""};this.props.dispatch({type:"gidc/addProvider",payload:{description:l}}),n.default.success("\u6dfb\u52a0\u6210\u529f"),this.setState({modalVisible:!1}),this.props.dispatch({type:"gidc/queryProvider",payload:""}),t.resetFields()}})})}render(){var e=this.props.form.getFieldDecorator,t=this.props,a=(t.form,t.dispatch,{labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:12},md:{span:10}}});return m.default.createElement("div",{className:f.default.tableListOperator,style:{float:"left"}},m.default.createElement(i.default,{icon:"plus",type:"primary",onClick:()=>this.handleModalVisible(!0)},"\u6dfb\u52a0\u8fd0\u8425\u5546"),m.default.createElement(d.default,{title:"\u6dfb\u52a0\u8fd0\u8425\u5546",visible:this.state.modalVisible,onOk:this.handleAddProvider,width:600,onCancel:()=>this.handleModalVisible()},m.default.createElement(g,(0,s.default)({},a,{label:"\u8fd0\u8425\u5546\u540d\u79f0"}),e("provider_name",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8fd0\u8425\u5546\u540d\u79f0"}]})(m.default.createElement(o.default,{placeholder:"\u8bf7\u8f93\u5165\u8fd0\u8425\u5546\u540d\u79f0"}))),m.default.createElement(g,(0,s.default)({},a,{label:"\u624b\u673a\u53f7"}),e("phone",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",pattern:/^[0-9]*$/,message:"\u6570\u5b57"}]})(m.default.createElement(o.default,{placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7"}))),m.default.createElement(g,(0,s.default)({},a,{label:"E-mail"}),e("email",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u90ae\u4ef6\u5730\u5740"},{type:"email",message:"\u975e\u6cd5 E-mail!"}]})(m.default.createElement(o.default,{placeholder:"\u8bf7\u8f93\u5165E-mail \u90ae\u4ef6\u5730\u5740"}))),m.default.createElement(g,(0,s.default)({},a,{label:"\u5907\u6ce8"}),e("remarks",{rules:[{required:!0,message:"\u5907\u6ce8"}]})(m.default.createElement(b,{style:{minHeight:32},placeholder:"\u673a\u623f\u63cf\u8ff0",rows:4})))))}}t.default=E},d2nj:function(e,t,a){"use strict";var l=a("4Gf+"),r=a("GyWo");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("DxMX");var d=l(a("ivY1"));a("9E1Q");var s=l(a("VtQk")),i=l(a("OjS7"));a("62OL");var n,o,u,h=l(a("lZ5B")),c=r(a("ZS5U")),p=a("rAnT"),m=l(a("/yBD")),f=l(a("zHco")),v=l(a("EMwN")),g=l(a("txCX")),b=(h.default.Item,e=>Object.keys(e).map(t=>e[t]).join(",")),E=(n=(0,p.connect)(e=>e),o=h.default.create(),n(u=o(u=class extends c.PureComponent{constructor(){super(...arguments),this.state={selectedRows:[],formValues:{}},this.handleStandardTableChange=((e,t,a)=>{var l=this.props.dispatch,r=this.state.formValues,d=Object.keys(t).reduce((e,a)=>{var l=(0,i.default)({},e);return l[a]=b(t[a]),l},{}),s=(0,i.default)({currentPage:e.current,pageSize:e.pageSize},r,d);a.field&&(s.sorter=`${a.field}_${a.order}`),l({type:"gidc/queryProvider",payload:s})}),this.handleSelectRows=(e=>{this.setState({selectedRows:e})}),this.handleSaveData=(e=>{this.props.dispatch({type:"gidc/modifyProvider",payload:e})}),this.handleDeleteData=(e=>{this.props.dispatch({type:"gidc/deleteProvider",payload:e})})}componentDidMount(){var e=this.props.dispatch;e({type:"gidc/queryProvider",payload:""})}render(){var e=this.props.gidc,t=this.state.selectedRows;return c.default.createElement(f.default,{title:"\u8fd0\u8425\u5546\u5217\u8868"},c.default.createElement(d.default,{bordered:!1},c.default.createElement("div",{className:g.default.tableList},c.default.createElement("div",{style:{height:40}},c.default.createElement(v.default,{dispatch:this.props.dispatch,form:this.props.form})),c.default.createElement(s.default,null,"  \u8fd0\u8425\u5546\u6570\u636e  "),c.default.createElement(m.default,{selectedRows:t,gprovider:e.provider,handleSaveData:this.handleSaveData,handleDeleteData:this.handleDeleteData,handleSelectRows:this.handleSelectRows,onChange:this.handleStandardTableChange}))))}})||u)||u);t.default=E},txCX:function(e,t,a){e.exports={tableList:"antd-pro-pages-g-resource-g-idc-provider-provider-tableList",tableListOperator:"antd-pro-pages-g-resource-g-idc-provider-provider-tableListOperator",tableListForm:"antd-pro-pages-g-resource-g-idc-provider-provider-tableListForm",submitButtons:"antd-pro-pages-g-resource-g-idc-provider-provider-submitButtons"}}}]);