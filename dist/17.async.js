(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[17],{"/yBD":function(e,t,a){"use strict";var n=a("284h"),r=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("ggfa");var l=r(a("M+wZ")),d=r(a("MVZn")),i=r(a("RIqP"));a("8EHj");var u=r(a("6xKx"));a("pdEl");var s=r(a("0Hx8"));a("Kwa8");var o=r(a("VWnb")),c=r(a("lwsE")),f=r(a("W8MJ")),p=r(a("a1gu")),h=r(a("Nsbk")),m=r(a("7W2i"));a("0lkx");var v=r(a("gEKc")),g=n(a("q1tI")),b=(r(a("wd/R")),r(a("E5t6"))),y=(a("Po9p"),function(e){var t=e.editable,a=e.value,n=e.onChange;return g.default.createElement("div",null,t?g.default.createElement(v.default,{style:{margin:"-5px 0"},value:a,onChange:function(e){return n(e.target.value)}}):a)}),E=function(e){function t(){var e,a;(0,c.default)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a=(0,p.default)(this,(e=(0,h.default)(t)).call.apply(e,[this].concat(r))),a.state={data:[],status:!1,disabled:!0,rateValue:3},a.columns=[{title:"\u8fd0\u8425\u5546\u540d\u79f0",dataIndex:"provider_name",width:"15%",render:function(e,t){return a.renderColumns(e,t,"provider_name")}},{title:"\u8fd0\u8425\u5546\u7535\u8bdd",dataIndex:"phone",width:"15%",render:function(e,t){return a.renderColumns(e,t,"phone")}},{title:"\u90ae\u4ef6",dataIndex:"email",width:"15%",render:function(e,t){return a.renderColumns(e,t,"email")}},{title:"\u5907\u6ce8",dataIndex:"remarks",width:"15%",render:function(e,t){return a.renderColumns(e,t,"remarks")}},{title:"\u8bc4\u5206",dataIndex:"comment",width:"15%",render:function(e,t){var n=t.comment;return g.default.createElement("div",null,g.default.createElement(o.default,{allowHalf:!0,count:6,value:n,onChange:function(e){return a.handleCommentChange(t.ID,e)},disabled:a.state.disabled}))}},{title:"\u64cd\u4f5c",dataIndex:"ID",width:"20%",render:function(e,t){var n=t.editable,r=t.deleteable;return g.default.createElement("div",{className:"editable-row-operations"},!r&&(n?g.default.createElement("span",null,g.default.createElement("a",{onClick:function(){return a.save(t.ID)}},"\u4fdd\u5b58"),g.default.createElement(s.default,{type:"vertical"}),g.default.createElement(u.default,{title:"\u786e\u5b9a\u53d6\u6d88?",onConfirm:function(){return a.cancel(t.ID)}},g.default.createElement("a",null,"\u53d6\u6d88"))):g.default.createElement("span",null,g.default.createElement("a",{onClick:function(){return a.edit(t.ID)}},"\u7f16\u8f91"))),!n&&(r?g.default.createElement("span",null,g.default.createElement(u.default,{title:"\u786e\u5b9a\u5220\u9664?",onConfirm:function(){return a.confirmdelete(t.ID)}},g.default.createElement("a",null,"\u63d0\u4ea4")),g.default.createElement(s.default,{type:"vertical"}),g.default.createElement("a",{onClick:function(){return a.canceldelete(t.ID)}},"\u53d6\u6d88")):g.default.createElement("span",{style:{marginLeft:10}},g.default.createElement("a",{onClick:function(){return a.askdelete(t.ID)}},"\u5220\u9664"))))}}],a.handleCommentChange=function(e,t){var n=(0,i.default)(a.state.data),r=n.filter(function(t){return e===t.ID})[0];r&&(r.comment=t,a.setState({data:n}))},a.handleTableChange=function(e,t,n){a.props.onChange(e,t,n)},a}return(0,m.default)(t,e),(0,f.default)(t,[{key:"componentWillReceiveProps",value:function(e){e.gprovider.data&&this.setState({data:e.gprovider.data})}},{key:"renderColumns",value:function(e,t,a){var n=this;return g.default.createElement(y,{editable:t.editable,value:e,onChange:function(e){return n.handleChange(e,t.ID,a)}})}},{key:"handleChange",value:function(e,t,a){var n=(0,i.default)(this.state.data),r=n.filter(function(e){return t===e.ID})[0];r&&(r[a]=e,this.setState({data:n,disabled:!1}))}},{key:"edit",value:function(e){var t=(0,i.default)(this.state.data),a=t.filter(function(t){return e===t.ID})[0];a&&(a.editable=!0,this.setState({data:t,disabled:!1}))}},{key:"save",value:function(e){var t=(0,i.default)(this.state.data),a=t.filter(function(t){return e===t.ID})[0];a&&(delete a.editable,a.enable=this.state.status,this.setState({data:t,disabled:!0}),this.cacheData=t.map(function(e){return(0,d.default)({},e)}),this.props.handleSaveData(a))}},{key:"cancel",value:function(e){var t=(0,i.default)(this.state.data),a=t.filter(function(t){return e===t.ID})[0];a&&(Object.assign(a,this.cacheData.filter(function(t){return e===t.ID})[0]),delete a.editable,this.setState({data:t,disabled:!0}))}},{key:"askdelete",value:function(e){var t=(0,i.default)(this.state.data),a=t.filter(function(t){return e===t.ID})[0];a&&(a.deleteable=!0,this.setState({data:t}))}},{key:"confirmdelete",value:function(e){var t=(0,i.default)(this.state.data),a=t.filter(function(t){return e===t.ID})[0];if(a){var n=t.indexOf(a);n>-1&&t.splice(n,1),a.tag=!1,this.setState({data:t}),this.cacheData=t.map(function(e){return(0,d.default)({},e)}),this.props.handleDeleteData(a)}}},{key:"canceldelete",value:function(e){var t=(0,i.default)(this.state.data),a=t.filter(function(t){return e===t.ID})[0];a&&(Object.assign(a,this.cacheData.filter(function(t){return e===t.ID})[0]),delete a.deleteable,this.setState({data:t}))}},{key:"render",value:function(){var e=this.props.gprovider,t=(0,d.default)({showSizeChanger:!0,showQuickJumper:!0},e.pagination);return this.cacheData=this.state.data.map(function(e){return(0,d.default)({},e)}),g.default.createElement("div",{className:b.default.standardTable},g.default.createElement(l.default,{bordered:!0,rowKey:function(e){return e.ID},dataSource:this.state.data,columns:this.columns,pagination:t,onChange:this.handleTableChange}),";")}}]),t}(g.PureComponent),C=E;t.default=C},E5t6:function(e,t,a){e.exports={standardTable:"antd-pro-gcmdb-ui-src-components-resource-provider-index-standardTable",tableAlert:"antd-pro-gcmdb-ui-src-components-resource-provider-index-tableAlert"}},EMwN:function(e,t,a){"use strict";var n=a("TqRt"),r=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("NG6T");var l=n(a("uZXS")),d=n(a("pVnL"));a("3PXm");var i=n(a("m2aW"));a("s/1u");var u=n(a("TMZs")),s=n(a("lSNA")),o=n(a("lwsE")),c=n(a("W8MJ")),f=n(a("a1gu")),p=n(a("Nsbk")),h=n(a("7W2i"));a("0lkx");var m=n(a("gEKc"));a("M50D");var v,g,b,y=n(a("5Zb7")),E=r(a("q1tI")),C=n(a("txCX")),D=a("MuoO"),k=y.default.Item,w=m.default.TextArea,I=(v=(0,D.connect)(function(e){return e}),g=y.default.create(),v(b=g(b=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a=(0,f.default)(this,(e=(0,p.default)(t)).call.apply(e,[this].concat(r))),a.state={number:0},a.handleNumberChange=function(e){var t=parseInt(e.target.value||0,10);isNaN(t)||("value"in a.props||a.setState({number:t}),a.triggerChange({number:t}))},a.triggerChange=function(e){var t=a.props.onChange;t&&t(Object.assign({},a.state,e))},a}return(0,h.default)(t,e),(0,c.default)(t,[{key:"componentWillReceiveProps",value:function(e){if("value"in e){var t=e.value;this.setState(t)}}},{key:"render",value:function(){var e=this.props.size,t=this.state;return E.default.createElement(m.default,{placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",type:"text",size:e,value:t.number,onChange:this.handleNumberChange})}}]),t}(E.PureComponent))||b),function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a=(0,f.default)(this,(e=(0,p.default)(t)).call.apply(e,[this].concat(r))),a.state={modalVisible:!1},a.handleModalVisible=function(e){a.setState({modalVisible:!!e})},a.handleAddProvider=function(e){var t=a.props.form;e.preventDefault(),t.validateFields(function(e,n){if(!e){var r,l=(r={provider_name:t.getFieldValue("provider_name")?t.getFieldValue("provider_name"):"",phone:t.getFieldValue("phone")?t.getFieldValue("phone"):"",email:t.getFieldValue("email")?t.getFieldValue("email"):""},(0,s.default)(r,"phone",t.getFieldValue("phone")?t.getFieldValue("phone"):""),(0,s.default)(r,"remarks",t.getFieldValue("remarks")?t.getFieldValue("remarks"):""),r);a.props.dispatch({type:"gidc/addProvider",payload:{description:l}}),u.default.success("\u6dfb\u52a0\u6210\u529f"),a.setState({modalVisible:!1}),a.props.dispatch({type:"gidc/queryProvider",payload:""}),t.resetFields()}})},a}return(0,h.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.props,n=(a.form,a.dispatch,{labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:12},md:{span:10}}});return E.default.createElement("div",{className:C.default.tableListOperator,style:{float:"left"}},E.default.createElement(i.default,{icon:"plus",type:"primary",onClick:function(){return e.handleModalVisible(!0)}},"\u6dfb\u52a0\u8fd0\u8425\u5546"),E.default.createElement(l.default,{title:"\u6dfb\u52a0\u8fd0\u8425\u5546",visible:this.state.modalVisible,onOk:this.handleAddProvider,width:600,onCancel:function(){return e.handleModalVisible()}},E.default.createElement(k,(0,d.default)({},n,{label:"\u8fd0\u8425\u5546\u540d\u79f0"}),t("provider_name",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8fd0\u8425\u5546\u540d\u79f0"}]})(E.default.createElement(m.default,{placeholder:"\u8bf7\u8f93\u5165\u8fd0\u8425\u5546\u540d\u79f0"}))),E.default.createElement(k,(0,d.default)({},n,{label:"\u624b\u673a\u53f7"}),t("phone",{rules:[(0,s.default)({required:!0,message:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",pattern:/^[0-9]*$/},"message","\u6570\u5b57")]})(E.default.createElement(m.default,{placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7"}))),E.default.createElement(k,(0,d.default)({},n,{label:"E-mail"}),t("email",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u90ae\u4ef6\u5730\u5740"},{type:"email",message:"\u975e\u6cd5 E-mail!"}]})(E.default.createElement(m.default,{placeholder:"\u8bf7\u8f93\u5165E-mail \u90ae\u4ef6\u5730\u5740"}))),E.default.createElement(k,(0,d.default)({},n,{label:"\u5907\u6ce8"}),t("remarks",{rules:[{required:!0,message:"\u5907\u6ce8"}]})(E.default.createElement(w,{style:{minHeight:32},placeholder:"\u673a\u623f\u63cf\u8ff0",rows:4})))))}}]),t}(E.PureComponent));t.default=I},d2nj:function(e,t,a){"use strict";var n=a("TqRt"),r=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("UsS6");var l=n(a("xqAZ"));a("pdEl");var d=n(a("0Hx8")),i=n(a("MVZn")),u=n(a("lwsE")),s=n(a("W8MJ")),o=n(a("a1gu")),c=n(a("Nsbk")),f=n(a("7W2i"));a("M50D");var p,h,m,v=n(a("5Zb7")),g=r(a("q1tI")),b=a("MuoO"),y=n(a("/yBD")),E=n(a("zHco")),C=n(a("EMwN")),D=n(a("txCX")),k=(v.default.Item,function(e){return Object.keys(e).map(function(t){return e[t]}).join(",")}),w=(p=(0,b.connect)(function(e){return e}),h=v.default.create(),p(m=h(m=function(e){function t(){var e,a;(0,u.default)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a=(0,o.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(r))),a.state={selectedRows:[],formValues:{}},a.handleStandardTableChange=function(e,t,n){var r=a.props.dispatch,l=a.state.formValues,d=Object.keys(t).reduce(function(e,a){var n=(0,i.default)({},e);return n[a]=k(t[a]),n},{}),u=(0,i.default)({currentPage:e.current,pageSize:e.pageSize},l,d);n.field&&(u.sorter="".concat(n.field,"_").concat(n.order)),r({type:"gidc/queryProvider",payload:u})},a.handleSelectRows=function(e){a.setState({selectedRows:e})},a.handleSaveData=function(e){a.props.dispatch({type:"gidc/modifyProvider",payload:e})},a.handleDeleteData=function(e){a.props.dispatch({type:"gidc/deleteProvider",payload:e})},a}return(0,f.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"gidc/queryProvider",payload:""})}},{key:"render",value:function(){var e=this.props.gidc,t=this.state.selectedRows;return g.default.createElement(E.default,{title:"\u8fd0\u8425\u5546\u5217\u8868"},g.default.createElement(l.default,{bordered:!1},g.default.createElement("div",{className:D.default.tableList},g.default.createElement("div",{style:{height:40}},g.default.createElement(C.default,{dispatch:this.props.dispatch,form:this.props.form})),g.default.createElement(d.default,null,"  \u8fd0\u8425\u5546\u6570\u636e  "),g.default.createElement(y.default,{selectedRows:t,gprovider:e.provider,handleSaveData:this.handleSaveData,handleDeleteData:this.handleDeleteData,handleSelectRows:this.handleSelectRows,onChange:this.handleStandardTableChange}))))}}]),t}(g.PureComponent))||m)||m);t.default=w},txCX:function(e,t,a){e.exports={tableList:"antd-pro-gcmdb-ui-src-pages-g-resource-g-idc-provider-provider-tableList",tableListOperator:"antd-pro-gcmdb-ui-src-pages-g-resource-g-idc-provider-provider-tableListOperator",tableListForm:"antd-pro-gcmdb-ui-src-pages-g-resource-g-idc-provider-provider-tableListForm",submitButtons:"antd-pro-gcmdb-ui-src-pages-g-resource-g-idc-provider-provider-submitButtons"}}}]);