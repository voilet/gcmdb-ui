(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[42],{"OYg/":function(e,t,a){"use strict";var l=a("4Gf+"),d=a("GyWo");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("qhfc");var r=l(a("aEti"));a("P7WH");var s=l(a("KVOY"));a("sXvm");var n=l(a("0WXq")),i=l(a("RSNA"));a("oeOs");var o=l(a("AXz3"));a("Vvjs");var u=l(a("66S2"));a("B5iR");var c=l(a("c0J2"));a("62OL");var h,p,f=l(a("lZ5B")),m=d(a("ZS5U")),g=(l(a("Un+4")),f.default.Item),y=c.default.Option,v=(h=f.default.create(),h(p=class extends m.PureComponent{constructor(){super(...arguments),this.state={idcData:[]},this.searchClick=(e=>{var t=this.props.form;e.preventDefault(),t.validateFields((e,a)=>{t.getFieldValue("name1")&&t.getFieldValue("name1"),t.getFieldValue("name2")&&t.getFieldValue("name2"),t.getFieldValue("name3")&&t.getFieldValue("name3"),t.getFieldValue("name4")&&t.getFieldValue("name4"),t.getFieldValue("name5")&&t.getFieldValue("name5"),t.getFieldValue("name6")&&t.getFieldValue("name6"),t.getFieldValue("name7")&&t.getFieldValue("name7"),t.getFieldValue("name8")&&t.getFieldValue("name8"),t.getFieldValue("name9")&&t.getFieldValue("name9");u.default.success("\u67e5\u8be2\u6210\u529f")})}),this.handleReset=(()=>{this.props.form.resetFields()})}componentWillReceiveProps(e){}render(){var e=this.props.form.getFieldDecorator,t=this.state.idcData,a={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}};return m.default.createElement("div",null,m.default.createElement(s.default,{gutter:24},m.default.createElement(n.default,{span:8,style:{display:"block"}},m.default.createElement(g,(0,i.default)({},a,{label:"ip"}),e("name1")(m.default.createElement(o.default,{placeholder:"\u8bf7\u8f93\u5165ip"})))),m.default.createElement(n.default,{span:8,style:{display:"block"}},m.default.createElement(g,(0,i.default)({},a,{label:"\u9879\u76ee\u540d"}),e("name2")(m.default.createElement(o.default,{placeholder:"\u8bf7\u8f93\u5165\u9879\u76ee\u540d"})))),m.default.createElement(n.default,{span:8,style:{display:"block"}},m.default.createElement(g,(0,i.default)({},a,{label:"\u4f7f\u7528\u72b6\u6001"}),e("name3")(m.default.createElement(c.default,{style:{width:"100%"},placeholder:"\u8bf7\u9009\u62e9\u4f7f\u7528\u72b6\u6001"},m.default.createElement(y,{key:"1",value:"1"},"\u5f00\u673a"),m.default.createElement(y,{key:"0",value:"0"},"\u5173\u673a"))))),m.default.createElement(n.default,{span:8,style:{display:"block"}},m.default.createElement(g,(0,i.default)({},a,{label:"\u503c\u73ed\u7ec4"}),e("name4")(m.default.createElement(c.default,{style:{width:"100%"},placeholder:"\u8bf7\u9009\u62e9\u503c\u73ed\u7ec4"},t.map(e=>{return m.default.createElement(y,{key:e.ID,value:e.ID},e.idc_name)}))))),m.default.createElement(n.default,{span:8,style:{display:"block"}},m.default.createElement(g,(0,i.default)({},a,{label:"\u670d\u52a1ID"}),e("name2")(m.default.createElement(o.default,{placeholder:"\u8bf7\u8f93\u5165\u670d\u52a1ID"})))),m.default.createElement(n.default,{span:8,style:{display:"block"}},m.default.createElement(g,(0,i.default)({},a,{label:"\u8d1f\u8d23\u4eba\u5458\u6a21\u7cca\u67e5\u8be2"}),e("name2")(m.default.createElement(o.default,{placeholder:"\u8bf7\u8f93\u5165\u8d1f\u8d23\u4eba\u5458"})))),m.default.createElement(n.default,{span:8,style:{display:"block"}},m.default.createElement(g,(0,i.default)({},a,{label:"\u57df\u540d"}),e("name7")(m.default.createElement(o.default,{placeholder:"\u8bf7\u8f93\u5165\u57df\u540d"}))))),m.default.createElement(s.default,null,m.default.createElement(n.default,{span:24,style:{textAlign:"right"}},m.default.createElement(r.default,{type:"primary",htmlType:"submit",onClick:this.searchClick},"Search"),m.default.createElement(r.default,{style:{marginLeft:8},onClick:this.handleReset},"Clear"))))}})||p);t.default=v},T3va:function(e,t,a){"use strict";var l=a("GyWo"),d=a("4Gf+");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("z4Cl");var r=d(a("L9Tq"));a("fr3b");var s=d(a("Bziu"));a("oeOs");var n=d(a("AXz3")),i=l(a("ZS5U")),o=a("qqji"),u=d(a("vIdK")),c=e=>{var t=e.editable,a=e.value,l=e.onChange;return i.default.createElement("div",null,t?i.default.createElement(n.default,{style:{margin:"-5px 0"},value:a,onChange:e=>l(e.target.value)}):a)};class h extends i.PureComponent{constructor(){super(...arguments),this.state={selectedRowKeys:[],totalCallNo:0,data:[]},this.handleRowSelectChange=((e,t)=>{var a=t.reduce((e,t)=>{return e+parseFloat(t.callNo,10)},0);this.props.onSelectRow&&this.props.onSelectRow(t),this.setState({selectedRowKeys:e,totalCallNo:a})}),this.handleTableChange=((e,t,a)=>{this.props.onChange(e,t,a)}),this.cleanSelectedKeys=(()=>{this.handleRowSelectChange([],[])}),this.ToHostTable=(e=>{var t=this.props.dispatch;t(o.routerRedux.push({pathname:"/resource/hardware/host/list",query:{projectid:e}}))})}componentWillReceiveProps(e){0===e.selectedRows.length&&this.setState({selectedRowKeys:[],totalCallNo:0}),this.setState({data:e.treeTabdata})}renderColumns(e,t,a){return i.default.createElement(c,{editable:t.editable,value:e,onChange:e=>this.handleChange(e,t.ID,a)})}edit(e){var t=[...this.state.data],a=t.filter(t=>e===t.ID)[0];a&&(a.editable=!0,this.setState({data:t.map(t=>{return e==t.ID&&(t.selectStatus=!1),t}),disabled:!1}))}save(e){var t=[...this.state.data],a=t.filter(t=>e===t.ID)[0];a&&(delete a.editable,a.enable=this.state.status,this.setState({data:t.map(t=>{return e==t.ID&&(t.selectStatus=!0),t}),disabled:!0}),this.props.handleSaveData(a)),console.logconsole.log}cancel(e){var t=[...this.state.data],a=t.filter(t=>e===t.ID)[0];a&&(delete a.editable,this.setState({data:t.map(t=>{return e==t.ID&&(t.selectStatus=!0),t}),disabled:!0}))}askdelete(e){var t=[...this.state.data],a=t.filter(t=>e===t.ID)[0];a&&(a.deleteable=!0,this.setState({data:t}))}confirmdelete(e){var t=[...this.state.data],a=t.filter(t=>e===t.ID)[0];if(a){var l=t.indexOf(a);l>-1&&t.splice(l,1),a.tag=!1,this.setState({data:t}),this.props.handleDeleteData(a)}}handleChange(e,t,a){var l=[...this.state.data],d=l.filter(e=>t===e.ID)[0];d&&(d[a]=e,this.setState({data:l,disabled:!1})),console.log("handleChange",e,t,a)}handleSelectLineValue(e,t,a){console.log(e,t,a);var l=[...this.state.data],d=l.filter(e=>t===e.ID)[0];d&&(d[a]=e,this.setState({data:l,disabled:!1}),this.props.dispatch({type:"gproline/getProjectGroupbyId",payload:e}))}render(){var e=this.state,t=e.selectedRowKeys,a=(e.totalCallNo,e.data),l=this.props.loading,d=[{title:"\u9879\u76eeID",dataIndex:"project_id",key:"project_id",width:"120px",render:(e,t)=>this.renderColumns(e,t,"project_id")},{title:"\u9879\u76ee\u540d",dataIndex:"project_title",key:"project_title",width:"120px",render:(e,t)=>this.renderColumns(e,t,"project_title")},{title:"\u5168\u8def\u5f84",dataIndex:"line_title",key:"line_title",width:"120px"},{title:"IP\u5730\u5740",dataIndex:"hostsip",key:"hostsip",width:"200px",render:(e,t)=>{var a={color:"red",cursor:"pointer",fontFamily:"Verdana",WebkitTransition:"all",msTransition:"all"};return i.default.createElement("span",{style:a},t.hostsip.map(e=>{return i.default.createElement("div",null,i.default.createElement("a",{onClick:()=>this.ToHostTable(t.project_id)},e))}))}},{title:"\u8fd0\u884c\u6a21\u5f0f",dataIndex:"host_model",key:"host_model",width:"100px",render:(e,t)=>this.renderColumns(e,t,"host_model")},{title:"\u57df\u540d",dataIndex:"host_domain",key:"host_domain",width:"150px",render:(e,t)=>this.renderColumns(e,t,"host_domain")},{title:"\u64cd\u4f5c",dataIndex:"ID",key:"ID",width:"200px",render:(e,t)=>{t.editable,t.deleteable;return i.default.createElement("div",{className:"editable-row-operations"})}}],n={selectedRowKeys:t,onChange:this.handleRowSelectChange,getCheckboxProps:e=>({disabled:e.disabled})};return i.default.createElement("div",{className:u.default.TreeTab},i.default.createElement("div",{className:u.default.tableAlert},i.default.createElement(s.default,{message:i.default.createElement("div",null,"\u5df2\u9009\u62e9 ",i.default.createElement("a",{style:{fontWeight:600}},t.length)," \u4e2a\u9879\u76ee\xa0",i.default.createElement("a",{onClick:this.cleanSelectedKeys,style:{marginLeft:24}},"\u6e05\u7a7a")),type:"info",showIcon:!0})),i.default.createElement(r.default,{loading:l,rowKey:e=>e.ID,rowSelection:n,dataSource:a,columns:d,onChange:this.handleTableChange}))}}var p=h;t.default=p},"Un+4":function(e,t,a){e.exports={tableList:"antd-pro-pages-g-project-pro-tree-project-tree-tableList",tableListOperator:"antd-pro-pages-g-project-pro-tree-project-tree-tableListOperator",tableListForm:"antd-pro-pages-g-project-pro-tree-project-tree-tableListForm",submitButtons:"antd-pro-pages-g-project-pro-tree-project-tree-submitButtons"}},y6FN:function(e,t,a){"use strict";var l=a("4Gf+"),d=a("GyWo");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("P7WH");var r=l(a("KVOY"));a("9E1Q");var s=l(a("VtQk"));a("sXvm");var n=l(a("0WXq"));a("DxMX");var i=l(a("ivY1")),o=l(a("OjS7"));a("oeOs");var u=l(a("AXz3"));a("sXMW");var c,h,p=l(a("wD/e")),f=d(a("ZS5U")),m=a("rAnT"),g=l(a("T3va")),y=l(a("OYg/")),v=(l(a("Un+4")),p.default.TreeNode),E=u.default.Search,b=e=>Object.keys(e).map(t=>e[t]).join(","),S=[],k=e=>{for(var t=0;t<e.length;t+=1){var a=e[t],l=a.key;S.push({key:l,title:a.title}),a.children&&k(a.children,a.key)}},C=(e,t,a)=>{for(var l,d=0;d<t.length;d+=1){var r=t[d];r.children&&(r.children.some(t=>t.key===e)?l=r.key:C(e,r.children)&&(l=C(e,r.children)))}return l},x=(c=(0,m.connect)(e=>e),c(h=class extends f.PureComponent{constructor(){super(...arguments),this.state={expandedKeys:[],searchValue:"",autoExpandParent:!0,selectedKey:[],selectedRows:[],treedata:[],hostdata:[]},this.onExpand=(e=>{this.setState({expandedKeys:e,autoExpandParent:!1})}),this.onChange=(e=>{var t=this.state.treedata,a=e.target.value;k(t);var l=S.map(e=>{return e.title.indexOf(a)>-1?C(e.key,t):null}).filter((e,t,a)=>e&&a.indexOf(e)===t);this.setState({expandedKeys:l,searchValue:a,autoExpandParent:!0})}),this.treeSelectClick=((e,t)=>{"3"==e.toString().split("-")[0]&&t.selected&&this.props.dispatch({type:"gappmanage/getHostdatabyId",payload:{projectid:e.toString().split("-")[1],cb:e=>{this.setState({hostdata:e})}}})}),this.handleStandardTableChange=((e,t,a)=>{this.props.dispatch;var l=this.state.formValues,d=Object.keys(t).reduce((e,a)=>{var l=(0,o.default)({},e);return l[a]=b(t[a]),l},{}),r=(0,o.default)({currentPage:e.current,pageSize:e.pageSize},l,d);a.field&&(r.sorter=`${a.field}_${a.order}`)}),this.handleSelectRows=(e=>{this.setState({selectedRows:e})})}componentWillMount(){var e=this.props.dispatch;e({type:"gappmanage/getTree",payload:{callback:e=>{this.setState({treedata:e})}}}),e({type:"gappmanage/getAllTree",payload:{cb:e=>{this.setState({hostdata:e})}}})}render(){var e=this.state,t=e.searchValue,a=e.expandedKeys,l=e.autoExpandParent,d=e.selectedKey,o=e.selectedRows,u=e=>e.map(e=>{var a=e.title.indexOf(t),l=e.title.substr(0,a),d=e.title.substr(a+t.length),r=a>-1?f.default.createElement("span",null,l,f.default.createElement("span",{style:{color:"#f50"}},t),d):f.default.createElement("span",null,e.title);return e.children?f.default.createElement(v,{key:e.key,title:r},u(e.children)):f.default.createElement(v,{key:e.key,title:r,id:e.id,"data-key":e.id})});return f.default.createElement(r.default,{gutter:24,style:{height:"100%"}},f.default.createElement(n.default,{span:6,style:{paddingRight:0,height:"100%"}},f.default.createElement(i.default,{style:{height:"100%"}},f.default.createElement("div",null,f.default.createElement(E,{style:{marginBottom:8},placeholder:"Search",onChange:this.onChange}),f.default.createElement(p.default,{onExpand:this.onExpand,expandedKeys:a,autoExpandParent:l,onSelect:this.treeSelectClick},u(this.state.treedata))))),f.default.createElement(n.default,{span:18,style:{paddingLeft:0,height:"100%"}},f.default.createElement(i.default,{style:{height:"100%"}},f.default.createElement(y.default,null),f.default.createElement(s.default,null," "),f.default.createElement(g.default,{selectedKey:d,treeTabdata:this.state.hostdata,selectedRows:o,onSelectRow:this.handleSelectRows,onChange:this.handleStandardTableChange,dispatch:this.props.dispatch}))))}})||h);t.default=x}}]);