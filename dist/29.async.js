(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{UK3H:function(e,t,a){"use strict";var r=a("0ZgE"),n=a("VY4n");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("UsS6");var l=r(a("xqAZ")),i=r(a("rFaQ"));a("ggfa");var u=r(a("M+wZ"));a("pdEl");var d=r(a("0Hx8")),o=r(a("TFzq")),c=r(a("DEU0")),s=r(a("+hkI")),m=r(a("54rf")),f=r(a("oHNe"));a("Qd5y");var p=r(a("wyIq"));a("31Pz");var y,E,h=r(a("j5+a")),g=n(a("bRCM")),v=a("rAnT"),_=(r(a("MDKW")),r(a("+kNj"))),k=r(a("FHVR")),b=_.default.Description,w=h.default.TabPane,x=[{title:"产品线",dataIndex:"proline_title",key:"proline_title",width:"120px"},{title:"项目组",dataIndex:"progroup_title",key:"progroup_title",width:"120px"},{title:"项目",dataIndex:"project_title",key:"project_title",width:"120px"},{title:"项目状态",dataIndex:"status",key:"status",render:function(e){return"true"===e?g.default.createElement(p.default,{status:"success",text:"运行中"}):g.default.createElement(p.default,{status:"error",text:"已下线"})}},{title:"负责人",dataIndex:"user",key:"user"}];Array.prototype.indexOf=function(e){for(var t=0;t<this.length;t++)if(this[t]==e)return t;return-1},Array.prototype.remove=function(e){var t=this.indexOf(e);t>-1&&this.splice(t,1)};var K=new Array,q=new Array,A=(y=(0,v.connect)(function(e){return e}))(E=function(e){function t(){var e,a;(0,o.default)(this,t);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return a=(0,s.default)(this,(e=(0,m.default)(t)).call.apply(e,[this].concat(n))),a.state={activeKey:"-1",title:"",panes:[],headlist:[],dateStatus:!0,cabinetData:[],idcData:[],BaysData:[],projectlist:[],hostid:0},a.componentWillUnmount=function(){(0,a.props.dispatch)({type:"gdevice/empty"})},a.isInArray=function(e,t){for(var a=0;a<e.length;a++)if(t===e[a])return!0;return!1},a.tabcontent=function(e,t){return g.default.createElement(g.Fragment,null,g.default.createElement(_.default,{size:"large",title:"主机状态信息",style:{marginBottom:32}},g.default.createElement(b,{term:"主机状态"},e.status_title)),g.default.createElement(_.default,{size:"large",title:"网络详情",style:{marginBottom:32}},g.default.createElement(b,{term:"网卡1"},e.eth1),g.default.createElement(b,{term:"网卡2"},e.eth2),g.default.createElement(b,{term:"网卡3"},e.eth3),g.default.createElement(b,{term:"网卡4"},e.eth4),g.default.createElement(b,{term:"主机名(fqdn)"},e.fqdn),g.default.createElement(b,{term:"MAC地址"},e.mac),g.default.createElement(b,{term:"远程控制卡IP"},e.internal_ip),g.default.createElement(b,{term:"所在交换机端口"},e.switch_port)),g.default.createElement(d.default,{style:{marginBottom:32}}),g.default.createElement(_.default,{size:"large",title:"硬件信息",style:{marginBottom:32}},g.default.createElement(b,{term:"服务器序列号"},e.serialnumber),g.default.createElement(b,{term:"所在机房"},e.idc_title+"/"+e.cabinet_title+"/"+e.bays_title),g.default.createElement(b,{term:"机器购买时间"},e.start_guaratee),g.default.createElement(b,{term:"机器最后维保时间"},e.stop_guaratee),g.default.createElement(b,{term:"资产编号"},e.assets_number),g.default.createElement(b,{term:"快速服务码"},e.service_code),g.default.createElement(b,{term:"服务器生产商"},e.hardware_vendor),g.default.createElement(b,{term:"服务器型号"},e.manufacturer),g.default.createElement(b,{term:"CPU参数"},e.cpu_model),g.default.createElement(b,{term:"CPU架构"},e.cpuarch),g.default.createElement(b,{term:"CPU核数"},e.num_cpus),g.default.createElement(b,{term:"硬盘详情"},e.disk),g.default.createElement(b,{term:"内存详情"},e.memory)),g.default.createElement(d.default,{style:{marginBottom:32}}),g.default.createElement(_.default,{size:"large",title:"软件信息",style:{marginBottom:32}},g.default.createElement(b,{term:"操作系统版本"},e.osrelease),g.default.createElement(b,{term:"bios版本"},e.biosversion),g.default.createElement(b,{term:"agent版本"},e.agent_version),g.default.createElement(b,{term:"套餐信息"},e.composeplan)),g.default.createElement(d.default,{style:{marginBottom:32}}),g.default.createElement(_.default,{size:"large",title:"权限信息",style:{marginBottom:32}},g.default.createElement(b,{term:"机器管理员"},e.user),g.default.createElement(b,{term:"密码"},"*******(请单独查看)")),g.default.createElement(d.default,{style:{marginBottom:32}}),g.default.createElement("div",{className:k.default.title},"项目信息"),g.default.createElement(u.default,(0,i.default)({rowKey:e.detail_id,style:{marginBottom:24},pagination:!1,dataSource:e.projectlists,columns:t},"rowKey","id")))},a.onChange=function(e){a.setState({activeKey:e})},a.onEdit=function(e,t){a[t](e)},a.remove=function(e){var t,r=a.state.activeKey;K.forEach(function(a,r){a.key===e&&(t=r-1)}),K.map(function(t,a,r){t.key==e&&q.remove(t.information[0].fqdn)}),K=K.filter(function(t){return t.key!==e}),console.log("panespanespanespanespanes1",q),t>=0&&r===e&&(r=K[t].key),a.setState({panes:K,headlist:q,activeKey:r})},a}return(0,f.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.dispatch,r=t.location,n=this.state,l=n.headlist,i=n.panes;i&&i.length>0&&this.setState({panes:i,activeKey:i[0].key}),r.hasOwnProperty("query")&&a({type:"gdevice/queryHostDetail",payload:{id:r.query.id,cb:function(t){if(0!==Object.keys(t).length){var a="".concat(t.detail_id),r=t.fqdn;e.isInArray(l,r)||(l.push(r),i.push({information:t,key:"".concat(a),title:r})),e.setState({panes:i,headlist:l,activeKey:a,projectlist:t.projectlists,hostid:e.props.location.query.id})}}}})}},{key:"render",value:function(){var e=this,t=this.props;t.gdevice,t.loading;return g.default.createElement(l.default,{bordered:!1},g.default.createElement(h.default,{hideAdd:!0,onChange:this.onChange,activeKey:this.state.activeKey,type:"editable-card",onEdit:this.onEdit},this.state.panes.map(function(t){return g.default.createElement(w,{tab:t.title,key:t.key},e.tabcontent(t.information,x))})))}}]),t}(g.Component))||E;t.default=A}}]);