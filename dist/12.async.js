(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{axzX:function(e,t,r){"use strict";var a=r("0ZgE");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r("U2oY")),u=a(r("0pfo")),o=r("qqji"),s=r("Dk/q"),i=r("dCQc"),c=r("34ay"),d=r("+n12"),p=r("HZnN"),l={namespace:"login",state:{status:void 0},effects:{login:u.default.mark(function e(t,r){var a,n,s,c,l,f,h,g;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n=r.call,s=r.put,e.next=4,n(i.fakeAccountLogin,a);case 4:return c=e.sent,e.next=7,s({type:"changeLoginStatus",payload:c});case 7:if(console.log("response",c),"200"!==c.status){e.next=24;break}if((0,p.reloadAuthorized)(),l=new URL(window.location.href),f=(0,d.getPageQuery)(),!(h=f.redirect)){e.next=22;break}if(g=new URL(h),g.origin!==l.origin){e.next=20;break}h=h.substr(l.origin.length),h.startsWith("/#")&&(h=h.substr(2)),e.next=22;break;case 20:return window.location.href=h,e.abrupt("return");case 22:return e.next=24,s(o.routerRedux.replace(h||"/"));case 24:case"end":return e.stop()}},e,this)}),getCaptcha:u.default.mark(function e(t,r){var a,n;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n=r.call,e.next=4,n(i.getFakeCaptcha,a);case 4:case"end":return e.stop()}},e,this)}),logout:u.default.mark(function e(t,r){var a;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.put,e.next=3,a({type:"changeLoginStatus",payload:{status:!1,currentAuthority:"guest"}});case 3:return(0,p.reloadAuthorized)(),e.next=6,a(o.routerRedux.push({pathname:"/user/login",search:(0,s.stringify)({redirect:window.location.href})}));case 6:case"end":return e.stop()}},e,this)})},reducers:{changeLoginStatus:function(e,t){var r=t.payload;return(0,c.setAuthority)(r.currentAuthority),(0,n.default)({},e,{status:r.status,type:r.type})}}};t.default=l}}]);