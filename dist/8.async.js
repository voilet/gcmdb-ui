(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{axzX:function(e,t,r){"use strict";var a=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r("MVZn")),u=a(r("o0o1")),s=r("7DNP"),o=r("Qyje"),i=r("dCQc"),c=r("34ay"),d=r("+n12"),l=r("HZnN"),p={namespace:"login",state:{status:void 0},effects:{login:u.default.mark(function e(t,r){var a,n,o,c,p,f,h,w;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.payload,n=r.call,o=r.put,e.next=4,n(i.fakeAccountLogin,a);case 4:return c=e.sent,e.next=7,o({type:"changeLoginStatus",payload:c});case 7:if(console.log("response",c),"200"!==c.status){e.next=24;break}if((0,l.reloadAuthorized)(),p=new URL(window.location.href),f=(0,d.getPageQuery)(),h=f.redirect,!h){e.next=22;break}if(w=new URL(h),w.origin!==p.origin){e.next=20;break}h=h.substr(p.origin.length),h.startsWith("/#")&&(h=h.substr(2)),e.next=22;break;case 20:return window.location.href=h,e.abrupt("return");case 22:return e.next=24,o(s.routerRedux.replace(h||"/"));case 24:case"end":return e.stop()}},e,this)}),getCaptcha:u.default.mark(function e(t,r){var a,n;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.payload,n=r.call,e.next=4,n(i.getFakeCaptcha,a);case 4:case"end":return e.stop()}},e,this)}),logout:u.default.mark(function e(t,r){var a;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=r.put,e.next=3,a({type:"changeLoginStatus",payload:{status:!1,currentAuthority:"guest"}});case 3:return(0,l.reloadAuthorized)(),e.next=6,a(s.routerRedux.push({pathname:"/user/login",search:(0,o.stringify)({redirect:window.location.href})}));case 6:case"end":return e.stop()}},e,this)})},reducers:{changeLoginStatus:function(e,t){var r=t.payload;return(0,c.setAuthority)(r.currentAuthority),(0,n.default)({},e,{status:r.status,type:r.type})}}};t.default=p}}]);